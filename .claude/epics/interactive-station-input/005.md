---
name: テスト追加
status: open
created: 2026-01-18T00:00:28Z
updated: 2026-01-18T00:00:28Z
github:
depends_on: [002, 003, 004]
parallel: false
conflicts_with: []
---

# Task: テスト追加

## Description

stationコマンドの単体テストと統合テストを追加。

## Acceptance Criteria

- [ ] 測点抽出ロジックのユニットテスト
- [ ] JSON読み込み・保存のテスト
- [ ] 候補リスト生成のテスト
- [ ] `cargo test` が全てパス

## Technical Details

```rust
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_extract_empty_stations() {
        let results = vec![
            AnalysisResult { station: "No.10".into(), ..Default::default() },
            AnalysisResult { station: "".into(), ..Default::default() },
        ];
        let empty = extract_empty_station_photos(&results);
        assert_eq!(empty.len(), 1);
    }

    #[test]
    fn test_collect_existing_stations() {
        let results = vec![
            AnalysisResult { station: "No.10".into(), ..Default::default() },
            AnalysisResult { station: "No.20".into(), ..Default::default() },
            AnalysisResult { station: "No.10".into(), ..Default::default() },
        ];
        let stations = collect_existing_stations(&results);
        assert_eq!(stations.len(), 2); // 重複除去
    }
}
```

## Files to Modify

- `src/station.rs` - テスト追加
- `tests/station_test.rs` (新規、オプション)

## Estimated Effort

30分
